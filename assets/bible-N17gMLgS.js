import{I as n}from"./i18n-BsEoFYnQ.js";import{U as i}from"./main-Bc7M-j3O.js";let o=[],a=null;function d(){const e=new Date,t=e.getFullYear(),r=e.getMonth()+1,l=e.getDate();return t*1e4+r*100+l}function u(e){const t=Math.sin(e)*1e4;return t-Math.floor(t)}function f(){if(o.length===0)return null;const e=d(),t=Math.floor(u(e)*o.length);return o[t]}function g(){if(o.length===0)return null;const e=Math.floor(Math.random()*o.length);return o[e]}function c(e){if(!e)return;a=e;const r=new Date().toLocaleDateString(n.getCurrentLanguage(),{year:"numeric",month:"long",day:"numeric",weekday:"long"});$("#verseDate").text(r),$("#verseText").text(e.text),$("#verseReference").text("- "+e.reference+" -")}window.getNewVerse=function(){const e=g();c(e)};function s(e){const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();try{document.execCommand("copy"),i.toast(n.t("bible.toast_copied"))}catch{i.toast(n.t("bible.toast_copy_fail"))}document.body.removeChild(t)}window.copyVerse=function(){if(!a)return;const e=`${a.text}

- ${a.reference} -`;navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{i.toast(n.t("bible.toast_copied"))}).catch(()=>{s(e)}):s(e)};$(document).ready(function(){n.init().then(()=>{$.getJSON("verses.json").done(function(e){o=e;const t=f();c(t)}).fail(function(){$("#verseText").text(n.t("bible.loading")),i.toast(n.t("bible.toast_load_fail"))}),window.addEventListener("languageChanged",()=>{c(a)})})});
