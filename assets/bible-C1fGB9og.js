import{U as i}from"./main-Dbe1p20m.js";import{I as n}from"./i18n-CTziurBh.js";import{P as d}from"./utils-BO01l7x6.js";import"./vendor-jquery-DPn9psbx.js";import"./vendor-crypto-DpXOUJby.js";let o=[],a=null;function u(){const t=new Date,e=t.getFullYear(),r=t.getMonth()+1,l=t.getDate();return e*1e4+r*100+l}function f(t){const e=Math.sin(t)*1e4;return e-Math.floor(e)}function g(){if(o.length===0)return null;const t=u(),e=Math.floor(f(t)*o.length);return o[e]}function m(){if(o.length===0)return null;const t=Math.floor(Math.random()*o.length);return o[t]}function c(t){if(!t)return;a=t;const r=new Date().toLocaleDateString(n.getCurrentLanguage(),{year:"numeric",month:"long",day:"numeric",weekday:"long"});$("#verseDate").text(r),$("#verseText").text(t.text),$("#verseReference").text("- "+t.reference+" -")}window.getNewVerse=function(){const t=m();c(t)};function s(t){const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select();try{document.execCommand("copy"),i.toast(n.t("bible.toast_copied"))}catch{i.toast(n.t("bible.toast_copy_fail"))}document.body.removeChild(e)}window.copyVerse=function(){if(!a)return;const t=`${a.text}

- ${a.reference} -`;navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>{i.toast(n.t("bible.toast_copied"))}).catch(()=>{s(t)}):s(t)};$(document).ready(function(){n.init().then(()=>{d.loadJSON("verses.json").then(function(t){o=t;const e=g();c(e)}).catch(function(){$("#verseText").text(n.t("bible.loading")),i.toast(n.t("bible.toast_load_fail"))}),window.addEventListener("languageChanged",()=>{c(a)})})});
