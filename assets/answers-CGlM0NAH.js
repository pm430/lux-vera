import{I as o}from"./i18n-BsEoFYnQ.js";import{U as l}from"./main-Bc7M-j3O.js";let i=[],e=[];function h(){$.getJSON("answers.json").done(function(t){i=t}).fail(function(){l.toast(o.t("answers.toast_load_fail"))})}function m(){const t=localStorage.getItem("answersHistory");t&&(e=JSON.parse(t),r())}function w(){localStorage.setItem("answersHistory",JSON.stringify(e))}function r(){if(e.length===0){$("#historySection").hide();return}$("#historySection").show();const t=$("#historyList");t.empty(),e.slice().reverse().forEach(s=>{const a=`
                    <div class="history-item">
                        <span class="history-answer ${s.type}">${o.getCurrentLanguage()==="ko"?s.answer:s.translation}</span>
                        <span class="history-time">${s.time}</span>
                    </div>
                `;t.append(a)})}window.getAnswer=function(){if(i.length===0){l.toast(o.t("answers.toast_loading"));return}const t=$("#bookIcon"),s=$("#answerText"),a=$("#answerTranslation"),c=$("#bookDisplay");s.removeClass("show positive negative neutral"),a.removeClass("show"),t.addClass("flipping"),c.addClass("active"),setTimeout(()=>{t.removeClass("flipping"),c.removeClass("active");const n=i[Math.floor(Math.random()*i.length)];s.text(n.ko),s.addClass("show "+n.type),a.text(n.en),a.addClass("show");const d=new Date,f=d.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});e.push({answer:n.ko,translation:n.en,type:n.type,time:f,timestamp:d.getTime()}),e.length>10&&e.shift(),w(),r()},600)};window.clearHistory=function(){confirm(o.t("answers.confirm_clear"))&&(e=[],w(),r(),l.toast(o.t("answers.toast_cleared")))};$(document).ready(function(){o.init().then(()=>{h(),m(),window.addEventListener("languageChanged",r)})});
