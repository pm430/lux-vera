<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸° - Lux Vera</title>
    <meta name="description" content="í–‰ìš´ì˜ ë¡œë˜ ë²ˆí˜¸ë¥¼ ìƒì„±í•˜ì„¸ìš”. 1ë¶€í„° 45ê¹Œì§€ì˜ ìˆ«ì ì¤‘ 6ê°œë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒí•©ë‹ˆë‹¤.">
    <meta property="og:title" content="ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸° - Lux Vera">
    <meta property="og:description" content="í–‰ìš´ì˜ ë¡œë˜ ë²ˆí˜¸ë¥¼ ìƒì„±í•˜ì„¸ìš”. 1ë¶€í„° 45ê¹Œì§€ì˜ ìˆ«ì ì¤‘ 6ê°œë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒí•©ë‹ˆë‹¤.">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="../css/style.css">
    <script>
      (function() {
        function setTheme(theme) {
          document.documentElement.setAttribute('data-theme', theme);
        }
        var savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
          setTheme(savedTheme);
        } else {
          var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
          setTheme(prefersDark ? 'dark' : 'light');
        }
      })();
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        .lotto-numbers {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 24px 0;
        }

        .lotto-ball {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s;
        }

        .lotto-ball:hover {
            transform: scale(1.1);
        }

        .lotto-ball.yellow { background: linear-gradient(135deg, #ffd700, #ffed4e); }
        .lotto-ball.blue { background: linear-gradient(135deg, #4169e1, #6495ed); }
        .lotto-ball.red { background: linear-gradient(135deg, #dc143c, #ff6347); }
        .lotto-ball.gray { background: linear-gradient(135deg, #708090, #a9a9a9); }
        .lotto-ball.green { background: linear-gradient(135deg, #32cd32, #90ee90); }

        .lotto-set {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 16px;
            border: 1px solid var(--border-color);
        }

        .lotto-set-title {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 12px;
            text-align: center;
        }

        .control-group {
            display: flex;
            gap: 12px;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
        }

        .control-group label {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .control-group select {
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 14px;
        }

        @media (max-width: 480px) {
            .lotto-ball {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <button class="theme-toggle" aria-label="ë‹¤í¬ëª¨ë“œ í† ê¸€">ğŸŒ™</button>
            <h1>ğŸ± ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°</h1>
            <p class="subtitle">í–‰ìš´ì˜ ë²ˆí˜¸ë¥¼ ìƒì„±í•˜ì„¸ìš”</p>
        </div>
    </header>

    <div class="tool-container">
        <a href="../index.html" class="back-button">â† í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>

        <div class="tool-panel">
            <div class="control-group">
                <label for="setCount">ìƒì„± ê°œìˆ˜:</label>
                <select id="setCount">
                    <option value="1">1ê°œ</option>
                    <option value="3">3ê°œ</option>
                    <option value="5" selected>5ê°œ</option>
                    <option value="10">10ê°œ</option>
                </select>
            </div>

            <div class="button-group">
                <button class="btn btn-action" onclick="generateNumbers()">ë²ˆí˜¸ ìƒì„±</button>
                <button class="btn btn-secondary" onclick="saveNumbers()">ë²ˆí˜¸ ì €ì¥</button>
                <button class="btn btn-secondary" onclick="clearAll()">ì´ˆê¸°í™”</button>
            </div>

            <div id="results"></div>

            <div id="savedNumbers" style="display: none; margin-top: 32px;">
                <h3 style="margin-bottom: 16px; text-align: center;">ğŸ’¾ ì €ì¥ëœ ë²ˆí˜¸</h3>
                <div id="savedList"></div>
            </div>
        </div>

        <!-- Buy Me a Coffee ë²„íŠ¼ -->
        <div class="sponsor-inline">
            <p>ì´ ì„œë¹„ìŠ¤ê°€ ìœ ìš©í•˜ì…¨ë‹¤ë©´ ì»¤í”¼ í•œ ì” í›„ì›í•´ì£¼ì„¸ìš”!</p>
            <a href="https://buymeacoffee.com/pm430" target="_blank">
                <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 40px; width: 170px;">
            </a>
        </div>
    </div>

    <script src="../js/main.js"></script>
    <script>
        // ë¡œë˜ ë²ˆí˜¸ ìƒ‰ìƒ ê²°ì •
        function getBallColor(num) {
            if (num <= 10) return 'yellow';
            if (num <= 20) return 'blue';
            if (num <= 30) return 'red';
            if (num <= 40) return 'gray';
            return 'green';
        }

        // ë¡œë˜ ë²ˆí˜¸ ìƒì„±
        function generateLottoSet() {
            const numbers = [];
            while (numbers.length < 6) {
                const num = Math.floor(Math.random() * 45) + 1;
                if (!numbers.includes(num)) {
                    numbers.push(num);
                }
            }
            return numbers.sort((a, b) => a - b);
        }

        // ë²ˆí˜¸ í‘œì‹œ
        function displayNumbers(numbers, setNumber) {
            const html = `
                <div class="lotto-set">
                    <div class="lotto-set-title">${setNumber}ë²ˆì§¸ ì¶”ì²œ ë²ˆí˜¸</div>
                    <div class="lotto-numbers">
                        ${numbers.map(num => `
                            <div class="lotto-ball ${getBallColor(num)}">${num}</div>
                        `).join('')}
                    </div>
                </div>
            `;
            return html;
        }

        // ë²ˆí˜¸ ìƒì„± ì‹¤í–‰
        function generateNumbers() {
            const setCount = parseInt($('#setCount').val());
            const results = $('#results');
            results.empty();

            for (let i = 1; i <= setCount; i++) {
                const numbers = generateLottoSet();
                results.append(displayNumbers(numbers, i));
            }

            Utils.toast('ğŸ² ë¡œë˜ ë²ˆí˜¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ë²ˆí˜¸ ì €ì¥
        function saveNumbers() {
            const sets = [];
            $('.lotto-set').each(function() {
                const numbers = [];
                $(this).find('.lotto-ball').each(function() {
                    numbers.push(parseInt($(this).text()));
                });
                if (numbers.length > 0) {
                    sets.push(numbers);
                }
            });

            if (sets.length === 0) {
                Utils.toast('âš ï¸ ì €ì¥í•  ë²ˆí˜¸ë¥¼ ë¨¼ì € ìƒì„±í•´ì£¼ì„¸ìš”.');
                return;
            }

            const saved = JSON.parse(localStorage.getItem('lottoNumbers') || '[]');
            const timestamp = new Date().toLocaleString('ko-KR');
            saved.push({
                timestamp: timestamp,
                sets: sets
            });

            // ìµœëŒ€ 10ê°œê¹Œì§€ë§Œ ì €ì¥
            if (saved.length > 10) {
                saved.shift();
            }

            localStorage.setItem('lottoNumbers', JSON.stringify(saved));
            loadSavedNumbers();
            Utils.toast('ğŸ’¾ ë²ˆí˜¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ì €ì¥ëœ ë²ˆí˜¸ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadSavedNumbers() {
            const saved = JSON.parse(localStorage.getItem('lottoNumbers') || '[]');
            const savedList = $('#savedList');
            const savedNumbers = $('#savedNumbers');

            if (saved.length === 0) {
                savedNumbers.hide();
                return;
            }

            savedNumbers.show();
            savedList.empty();

            saved.reverse().forEach((item, index) => {
                const html = `
                    <div class="lotto-set">
                        <div class="lotto-set-title">
                            ${item.timestamp}
                            <button class="btn btn-secondary" style="font-size: 12px; padding: 4px 12px; margin-left: 12px;" onclick="deleteSaved(${saved.length - 1 - index})">ì‚­ì œ</button>
                        </div>
                        ${item.sets.map((numbers, setIndex) => `
                            <div style="margin: 8px 0;">
                                <div class="lotto-numbers">
                                    ${numbers.map(num => `
                                        <div class="lotto-ball ${getBallColor(num)}">${num}</div>
                                    `).join('')}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
                savedList.append(html);
            });
        }

        // ì €ì¥ëœ ë²ˆí˜¸ ì‚­ì œ
        function deleteSaved(index) {
            const saved = JSON.parse(localStorage.getItem('lottoNumbers') || '[]');
            saved.splice(index, 1);
            localStorage.setItem('lottoNumbers', JSON.stringify(saved));
            loadSavedNumbers();
            Utils.toast('ğŸ—‘ï¸ ë²ˆí˜¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        // ì´ˆê¸°í™”
        function clearAll() {
            $('#results').empty();
            Utils.toast('ğŸ§¹ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ ë²ˆí˜¸ í‘œì‹œ
        $(document).ready(function() {
            loadSavedNumbers();
        });
    </script>

    <!-- Buy Me a Coffee í”Œë¡œíŒ… ìœ„ì ¯ -->
    <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="pm430" data-description="Support me on Buy me a coffee!" data-message="ê°ì‚¬í•©ë‹ˆë‹¤!" data-color="#FFDD00" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
</body>
</html>
